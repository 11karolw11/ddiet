<link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
<link type="text/css" rel="stylesheet" href="static/templates/ddiet/jsgrid.min.css" />
<link type="text/css" rel="stylesheet" href="static/jsgrid-theme.min.css" />
<script type="text/javascript" src="static/jsgrid.min.js"></script>



<script>
    $( function() {
    $( "#datepicker" ).datepicker({
        inline : true,
        altField : '#hiddenFieldID',
        onSelect : function() {
            $('#datepicker_form').submit();
        }
    });
    var b_date = {{base_date|safe}}
    alert(b_date)
    $("#datepicker").datepicker('setDate', b_date);
    } );
</script>
<div id="datepicker" value="Pick date"></div>
<form id="datepicker_form" action="index" method="GET">
<input type="hidden" name="date" id="hiddenFieldID" value="">
</form>



<script type="text/javascript">
    $(function(){
        var products = {{ products|safe }};
        $("#prod_names").autocomplete({source: products});
    });
</script>

<div id="jsGrid"></div>

 <script>
        var day_products = {{ day_products|safe }}

        var clients = [
            { "Name": "Otto Clay", "Age": 25, "Country": 1, "Address": "Ap #897-1459 Quam Avenue", "Married": false },
            { "Name": "Connor Johnston", "Age": 45, "Country": 2, "Address": "Ap #370-4647 Dis Av.", "Married": true },
            { "Name": "Lacey Hess", "Age": 29, "Country": 3, "Address": "Ap #365-8835 Integer St.", "Married": false },
            { "Name": "Timothy Henson", "Age": 56, "Country": 1, "Address": "911-5143 Luctus Ave", "Married": true },
            { "Name": "Ramona Benton", "Age": 32, "Country": 3, "Address": "Ap #614-689 Vehicula Street", "Married": false }
        ];

        var countries = [
            { Name: "", Id: 0 },
            { Name: "United States", Id: 1 },
            { Name: "Canada", Id: 2 },
            { Name: "United Kingdom", Id: 3 }
        ];

        $("#jsGrid").jsGrid({
            width: "100%",
            height: "400px",

            inserting: true,
            editing: true,
            sorting: true,
            paging: true,

            data: day_products,

            fields: [
                { name: "Product", type: "text", width: 200, validate: "required" },
                { name: "Amount", type: "number", width: 50 },
                { name: "Carbs", type: "number", width: 50 },
                { name: "Fat", type: "number", width: 50},
                { name: "Protein", type: "number", width: 50},
                { name: "Kcal", type: "number", width: 50},
                { name: "Valuable", type: "checkbox", title: "V", width: 20},
                { type: "control" }
            ]
        });
 </script>
<br>

<form action="update_product" method="post"> {% csrf_token %}
<div class="ui-widget">
<label for="prod_names">Edit product:</label>
    <input id="prod_names" name="product">
<input type="submit" value="OK"/>
<br><br>
<input type="submit" name="ADD" value="Add new product">
</div>
</form>