<link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
<link type="text/css" rel="stylesheet" href="static/templates/ddiet/jsgrid.min.css" />
<link type="text/css" rel="stylesheet" href="static/jsgrid-theme.min.css" />
<script type="text/javascript" src="static/jsgrid.min.js"></script>



<script>
    $( function() {
    $( "#datepicker" ).datepicker({
        inline : true,
        altField : '#hiddenFieldID',
        onSelect : function() {
            $('#datepicker_form').submit();
        }
    });
    var b_date = "{{ base_date|safe }}"
    $("#datepicker").datepicker("setDate", b_date);
    } );
</script>
<div id="datepicker" value="Pick date"></div>
<form id="datepicker_form" action="index" method="GET">
<input type="hidden" name="date" id="hiddenFieldID" value="">
</form>



<script type="text/javascript">
    $(function(){
        var products = {{ products|safe }};
        $("#prod_names").autocomplete({source: products});
    });
</script>

<div id="jsGrid"></div>

 <script>
        var day_products = {{ day_products|safe }}

        $("#jsGrid").jsGrid({
            width: "100%",
            height: "400px",

            inserting: true,
            editing: true,
            sorting: true,
            paging: true,

            data: day_products,

            fields: [
                { name: "Product", type: "text", width: 200, validate: "required" },
                { name: "Amount", type: "number", width: 50 },
                { name: "Carbs", type: "number", width: 50 },
                { name: "Fat", type: "number", width: 50},
                { name: "Protein", type: "number", width: 50},
                { name: "Kcal", type: "number", width: 50},
                { name: "Valuable", type: "checkbox", title: "V", width: 20},
                { type: "control" }
            ]
        });
 </script>
<br>

<form action="update_product" method="post"> {% csrf_token %}
<div class="ui-widget">
<label for="prod_names">Edit product:</label>
    <input id="prod_names" name="product">
<input type="submit" value="OK"/>
<br><br>
<input type="submit" name="ADD" value="Add new product">
</div>
</form>